<!DOCTYPE html>
<html>
    <head>
    
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    
        <link rel="stylesheet" type="text/css" href="login.css">

        
    </head>



<body class="world">
    <div class="universe">
        <% if (product.length > 0) { %>
            <div class="continent">
                <div class="continent1">
                   <form action="/getproduct/" method="POST">
                       <% for( var i = 0 ; i < product.length; i++) { %>
                           <div class="productform">
                               <p class="productname">
                                   <%= product[i].name %> 
                               </p>
                               <p class="productcost">
                                   <%= product[i].cost %> 
                               </p>
                               <p class="producttables">
                                   <span class="spanitem">
                                       invoiceno:
                                       <%= product[i].invoiceno %> 
                                   </span>
                                   <span class="spanitem">
                                       usedfor:
                                       <%= product[i].purpose %> 
                                   </span>
           
                               </p>
                           </div>
                       
                       <% } %>
                       <a class="btn btn-primary" href="/next"> Home</a>
                   </form>
                  
                </div>
                </div>
                <div class="row">
                    <div class="col">
                        <button type="button" class="btn btn-info" style="float: left;" id="previous"> previous </button>
                    </div>
           </div>
                    <div class="row">
                       <div class="col">
                           <button type="button" class="btn btn-info" id="next" style="float: right;"> next</button>
                       </div>
                </div>
                </div>
        <% } else { %>
                    <h1>No more products. Please go back!</h1>      
                    <a class="btn btn-primary" href="/next">Go Home</a>
                    <% } %>
                    
   
     <script type="text/javascript" src='http://code.jquery.com/jquery-3.1.1.min.js'></script>
     
     <script>


         document.getElementById("next").addEventListener("click", () => {
            const next = parseInt("<%= page %>") + 1;
            window.location = '/product/' + next;
         });

         document.getElementById("previous").addEventListener("click", () => {
            const previous = parseInt("<%= page %>") - 1;
            if (previous < 0)
                document.getElementById("previous").disabled = true;
            else
                window.location = '/product/' + previous;
         });

        //  function getNextSet() {
        //     start = end;
        //     end = end + limit;
        //      window.location = '/product/' + start + '/' + end;
        //  }

        //  function getPreviousSet() {
        //     start = start - limit;
        //     end = end - limit;
        //      window.location = '/product/' + start + '/' + end;
        //  }


        //     function getnext(){
        //      //var user_id = user_id;
        //     start = end;
        //     end = end + limit;
        //     console.log('start: ' + start + ' end: ' + end);
        //     //document.getElementById('btnsrch').addEventListener('click',true);
        //      $.ajax({
        //          url: "/product/" +start+ "/" + limit,
        //         //data: {'user_id': user_id},
        //          method:"GET",
        //          success: function(response){
        //              console.log(response);
        //              renderPosts(response);
                    
        //          }
        //      });

        //  }


        //  function getprevious(){
        //      //var user_id = user_id;
        //     start = start - limit;
        //     console.log('clicked');
        //     //document.getElementById('btnsrch').addEventListener('click',true);
        //      $.ajax({
        //          url: "/product/" +start+ "/" + limit,
        //          //data: {'user_id': user_id},
        //          method:"GET",
        //          success: function(response){
        //              console.log(response);
        //              renderPosts(response);
                    
        //          }
        //      });

        //  }


        //  function renderPosts(product){
        //      if(product.length > 0){
        //          var html ="";
        //          for(var i=0; i<product.length; i++){
        //              console.log(product[i].name);
        //              html+'<span class="spanitem"> name:'+product[i].name+'</span>';
        //              html+'<span class="spanitem"> invoiceno:'+product[i].invoiceno+'</span>';
        //              html+'<span class="spanitem"> usedfor:'+product[i].purpose+'</span>';
        //              html+'<span class="spanitem"> cost:'+product[i].cost+'</span>';
        //          }
        //          $("#product").html(html);
        //      }
        //  }





     </script>

       <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js" integrity="sha384-q2kxQ16AaE6UbzuKqyBE9/u/KzioAlnx2maXQHiDX9d4/zp8Ok3f+M7DPm+Ib6IU" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js" integrity="sha384-pQQkAEnwaBkjpqZ8RU1fF1AKtTcHJwFl3pblpTlHXybJjHpMYo79HY3hIi4NKxyj" crossorigin="anonymous"></script>
</body>
</html>